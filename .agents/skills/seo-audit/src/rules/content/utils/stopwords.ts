/**
 * Common English stopwords to exclude from keyword analysis
 * These words are too common to indicate keyword stuffing
 */
export const STOPWORDS = new Set([
  // Articles
  'a',
  'an',
  'the',
  // Conjunctions
  'and',
  'or',
  'but',
  'nor',
  'so',
  'yet',
  'for',
  // Prepositions
  'in',
  'on',
  'at',
  'to',
  'of',
  'with',
  'by',
  'from',
  'as',
  'into',
  'through',
  'during',
  'before',
  'after',
  'above',
  'below',
  'between',
  'under',
  'over',
  'out',
  'up',
  'down',
  'about',
  'against',
  'among',
  'around',
  // Pronouns
  'i',
  'me',
  'my',
  'myself',
  'we',
  'our',
  'ours',
  'ourselves',
  'you',
  'your',
  'yours',
  'yourself',
  'yourselves',
  'he',
  'him',
  'his',
  'himself',
  'she',
  'her',
  'hers',
  'herself',
  'it',
  'its',
  'itself',
  'they',
  'them',
  'their',
  'theirs',
  'themselves',
  'what',
  'which',
  'who',
  'whom',
  'this',
  'that',
  'these',
  'those',
  // Common verbs
  'is',
  'are',
  'was',
  'were',
  'be',
  'been',
  'being',
  'have',
  'has',
  'had',
  'having',
  'do',
  'does',
  'did',
  'doing',
  'will',
  'would',
  'could',
  'should',
  'may',
  'might',
  'must',
  'can',
  'shall',
  // Other common words
  'all',
  'each',
  'every',
  'both',
  'few',
  'more',
  'most',
  'other',
  'some',
  'such',
  'no',
  'not',
  'only',
  'own',
  'same',
  'than',
  'too',
  'very',
  'just',
  'also',
  'now',
  'here',
  'there',
  'when',
  'where',
  'why',
  'how',
  'any',
  'if',
  'then',
  'because',
  'while',
  'although',
  'though',
  'once',
  'until',
  'unless',
  'however',
  'therefore',
  // Numbers and misc
  'one',
  'two',
  'three',
  'first',
  'second',
  'new',
  'get',
  'make',
  'like',
  'even',
  'still',
  'well',
  'back',
  'way',
  'much',
  'many',
]);

/**
 * Check if a word is a stopword
 */
export function isStopword(word: string): boolean {
  return STOPWORDS.has(word.toLowerCase());
}

/**
 * Remove stopwords from an array of words
 */
export function removeStopwords(words: string[]): string[] {
  return words.filter((word) => !isStopword(word));
}

/**
 * Filter words to only include content words (non-stopwords)
 * Also filters out very short words (< 2 chars)
 */
export function getContentWords(words: string[]): string[] {
  return words.filter((word) => word.length >= 2 && !isStopword(word));
}
